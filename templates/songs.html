{% extends "base.html" %}
{% block content %}
<div class="container">
    <h1>My Songs</h1>
    
    <a href="{{ url_for('editor') }}" class="btn btn-primary">Create New Song</a>
    
    <div class="songs-list">
        {% for song in songs %}
        <div class="song-item">
            <div class="song-details">
                <h3>{{ song.title }}</h3>
                <div class="song-actions">
                    <a href="{{ url_for('edit_song', song_id=song.id) }}" class="btn btn-edit">Edit</a>
                    <a href="{{ url_for('select_song') }}" class="btn btn-select" onclick="selectSong({{ song.id }}); return false;">Select</a>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
</div>

<script>
function selectSong(songId) {
    const form = document.createElement('form');
    form.method = 'POST';
    form.action = "{{ url_for('select_song') }}";
    
    const input = document.createElement('input');
    input.type = 'hidden';
    input.name = 'song_id';
    input.value = songId;
    
    form.appendChild(input);
    document.body.appendChild(form);
    form.submit();
}
</script>

<style>
.container {
    max-width: 800px;
    margin: 0 auto;
    padding: 20px;
}

.btn {
    display: inline-block;
    padding: 10px 15px;
    margin: 5px;
    text-decoration: none;
    border-radius: 4px;
    cursor: pointer;
}

.btn-primary {
    background-color: #007bff;
    color: white;
    margin-bottom: 20px;
}

.songs-list {
    display: flex;
    flex-direction: column;
    gap: 10px;
}

.song-item {
    border: 1px solid #ddd;
    padding: 15px;
    border-radius: 4px;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.song-details {
    display: flex;
    justify-content: space-between;
    align-items: center;
    width: 100%;
}

.song-actions {
    display: flex;
    gap: 10px;
}

.btn-edit {
    background-color: #28a745;
    color: white;
}

.btn-select {
    background-color: #17a2b8;
    color: white;
}
</style>
{% endblock %}